!function(){"use strict";class e{constructor(e,t,r,o,s){this._cardTitle=e.name,this._cardLink=e.link,this._cardSelector=t,this._handleImageClick=r,this._id=e._id,this._handleCardDelete=o,this._handleCardLike=s,this._likeStatus=e.isLiked}_setEventListeners(){this._deleteButton=this._element.querySelector(".locations__card-delete"),this._deleteButton.addEventListener("click",this.handleDeleteClick),this._likeButton=this._element.querySelector(".locations__card-like"),this._likeButton.addEventListener("click",this._likeCard),this._cardImage=this._element.querySelector(".locations__card-image"),this._cardImage.addEventListener("click",(()=>{this._handleImageClick({title:this._cardTitle,image:this._cardLink})}))}getId(){return this._id}handleDeleteClick=()=>{this._handleCardDelete(this)};deleteCard=()=>{this._element.remove(),this._element=null};_likeCard=e=>{this._likeButton.classList.toggle("locations__card-like_active"),this._handleCardLike(this._id,e)};_setLike(){!0===this._likeStatus?this._likeButton.classList.add("locations__card-like_active"):this._likeButton.classList.remove("locations__card-like_active")}_getCardData(){return document.querySelector(this._cardSelector).content.cloneNode(!0).querySelector(".locations__card-wrapper")}generateCard(){return this._element=this._getCardData(),this._setEventListeners(),this._cardText=this._element.querySelector(".locations__card-text"),this._cardText.textContent=this._cardTitle,this._cardImage.src=this._cardLink,this._cardImage.alt=`Photo of ${this._cardTitle}`,this._setLike(),this._element}}class t{constructor(e,t){this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t}_showInputError(e){const t=this._formElement.querySelector(`.${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`.${e.id}-error`);e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}_setEventListeners(){this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector),this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}resetValidation(){this._toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}const r={formSelector:".modal__container",inputSelector:".modal__input",submitButtonSelector:".modal__save",inactiveButtonClass:"modal__save_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__input-error_visible"};class o{constructor(e){this._popupSelector=document.querySelector(e)}open(){this._popupSelector.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupSelector.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupSelector.addEventListener("mousedown",(e=>{(e.target.classList.contains("modal_opened")||e.target.classList.contains("modal__close"))&&this.close()}))}}class s extends o{constructor(e,t){super(e),this._handleFormSubmit=t,this._formSelector=this._popupSelector.querySelector(".modal__container"),this._inputList=this._formSelector.querySelectorAll(".modal__input"),this._button=this._formSelector.querySelector(".modal__save"),this._originalButtonText=this._button.textContent}_getInputValues(){return this.inputValues={},this._inputList.forEach((e=>{this.inputValues[e.name]=e.value})),this.inputValues}setEventListeners(){this._formSelector.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues()),this._formSelector.reset()})),super.setEventListeners()}resetButtonText(){this._button.textContent=this._originalButtonText}changeButtonText(){this._button.textContent="Saving"}}class a extends o{constructor(e,t){super(e),this._handleFormSubmit=t,this._formSelector=this._popupSelector.querySelector(".modal__container"),this._button=this._formSelector.querySelector(".modal__save"),this._originalButtonText=this._button.textContent}setEventListeners(){this._formSelector.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()})),super.setEventListeners()}setHandleFormSubmit(e){this._handleFormSubmit=e}}const i=document.querySelector("#edit-modal"),n=document.querySelector("#avatar-modal"),l=document.forms["profile-form"],c=document.querySelector(".profile__edit-button"),d=(i.querySelector(".modal__close"),document.querySelector(".profile__image")),u=document.querySelector(".profile__avatar-button"),h=(document.querySelector(".profile__name"),document.querySelector(".profile__description"),document.querySelector(".modal__input-name")),_=document.querySelector(".modal__input-description"),m=(l.querySelector(".modal__save"),document.querySelector(".profile__add-button")),p=document.querySelector("#add-card-modal"),f=document.querySelector("#delete-card-modal"),v=document.forms["card-form"],S=(p.querySelector(".modal__close"),p.querySelector(".modal__input-title"),p.querySelector(".modal__input-link"),v.querySelector(".modal__save"),document.querySelector("#locations-card"),document.querySelector(".locations__cards"),document.querySelector("#preview-image-modal")),E=(document.querySelector(".modal__image"),S.querySelector(".modal__close"),S.querySelector(".modal__image-text"),Array.from(document.querySelectorAll(".modal")),[p,i,n]),b=[f],y=Array.from(document.querySelectorAll(".modal__container")),g={},C={},k={};let L={};const q=new class{constructor(e){this._baseURL=e.baseUrl,this._headers=e.headers}getInitialCards(){return fetch("https://around-api.en.tripleten-services.com/v1/cards",{headers:{authorization:"d4cadbf6-4b07-471d-8c88-393f36774c1d"}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).then((e=>e))}addCard(e,t){return fetch("https://around-api.en.tripleten-services.com/v1/cards",{method:"POST",headers:{authorization:"d4cadbf6-4b07-471d-8c88-393f36774c1d","Content-Type":"application/json"},body:JSON.stringify({name:e,link:t})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).then((e=>e))}deleteCard(e){return fetch(`https://around-api.en.tripleten-services.com/v1/cards/${e}`,{method:"DELETE",headers:{authorization:"d4cadbf6-4b07-471d-8c88-393f36774c1d"}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).then((e=>e))}loadUserInfo(){return fetch("https://around-api.en.tripleten-services.com/v1/users/me",{headers:{authorization:"d4cadbf6-4b07-471d-8c88-393f36774c1d"}}).then((e=>e.ok?e.json():Promise.reject(`Error ${e.status}`))).then((e=>e))}editUserInfo(e,t){return fetch("https://around-api.en.tripleten-services.com/v1/users/me",{method:"PATCH",headers:{authorization:"d4cadbf6-4b07-471d-8c88-393f36774c1d","Content-Type":"application/json"},body:JSON.stringify({name:e,about:t})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).then((e=>e))}updateProfilePicture(e){return fetch("https://around-api.en.tripleten-services.com/v1/users/me/avatar",{method:"PATCH",headers:{authorization:"d4cadbf6-4b07-471d-8c88-393f36774c1d","Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).then((e=>e))}likeCard(e){return fetch(`https://around-api.en.tripleten-services.com/v1/cards/${e}/likes`,{method:"PUT",headers:{authorization:"d4cadbf6-4b07-471d-8c88-393f36774c1d"}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).then((e=>e))}unlikeCard(e){return fetch(`https://around-api.en.tripleten-services.com/v1/cards/${e}/likes`,{method:"DELETE",headers:{authorization:"d4cadbf6-4b07-471d-8c88-393f36774c1d"}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).then((e=>e))}checkStatus(e,t){return Promise.all([e,t])}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"d4cadbf6-4b07-471d-8c88-393f36774c1d","Content-Type":"application/json"}}),I=new class extends o{constructor(e){super(e),this._popupImage=this._popupSelector.querySelector(".modal__image"),this._popupTitle=this._popupSelector.querySelector(".modal__image-text")}open(e){let{title:t,image:r}=e;this._popupImage.src=r,this._popupImage.alt=t,this._popupTitle.textContent=t,super.open()}}("#preview-image-modal");I.setEventListeners();const x=e=>{let{title:t,image:r}=e;I.open({title:t,image:r})},B=(e,t)=>t.target.classList.contains("locations__card-like_active")?q.likeCard(e).catch((e=>{console.error(e)})):q.unlikeCard(e).catch((e=>{console.error(e)}));q.loadUserInfo().then((e=>{A.setUserInfo(e.name,e.about),A.updateUserAvatar(e.avatar)})).catch((e=>{console.error(e)})),c.addEventListener("click",(()=>{g["profile-form"].resetValidation(),C["edit-modal"].resetButtonText(),C["edit-modal"].open(),function(){const e=A.getUserInfo();h.value=e.name,_.value=e.job}()})),d.addEventListener("mouseover",(()=>{u.classList.add("profile__avatar-button_visible")})),u.addEventListener("click",(()=>{g["avatar-form"].resetValidation(),C["avatar-modal"].resetButtonText(),C["avatar-modal"].open()}));const T=t=>{const r=new e(t,"#locations-card",x,(e=>{k["delete-card-modal"].open(),k["delete-card-modal"].setHandleFormSubmit((()=>{q.deleteCard(e.getId()).then((()=>{e.deleteCard(),k["delete-card-modal"].close()})).catch((e=>{console.error(e)}))}))}),B);return L[t.name]=r,r.generateCard()},j=new class{constructor(e,t){let{renderer:r}=e;this._renderer=r,this._containerSelector=t,this._container=document.querySelector(this._containerSelector)}renderItems(){this._renderer()}addItem(e){this._container.prepend(e)}}({renderer:()=>{q.checkStatus(q.loadUserInfo(),q.getInitialCards()).then((e=>{e[1].forEach((e=>{const t=T(e);return j.addItem(t)}))})).catch((e=>{console.error(e)}))}},".locations__cards");j.renderItems(),m.addEventListener("click",(()=>{g["card-form"].resetValidation(),C["add-card-modal"].resetButtonText(),C["add-card-modal"].open()})),y.forEach((e=>{const o=new t(r,e);o.enableValidation(),g[e.name]=o})),E.forEach((e=>{const t=new s(`#${e.id}`,(t=>"add-card-modal"===e.id?function(e){const t=e["image-title"],r=e["image-link"];j.addItem(T({name:t,link:r})),q.addCard(e["image-title"],e["image-link"]).then((e=>{C["add-card-modal"].changeButtonText()})).catch((e=>{console.error(e)})),C["add-card-modal"].close()}(t):"edit-modal"===e.id?function(e){A.setUserInfo(e.Name,e["About me"]),q.editUserInfo(e.Name,e["About me"]).then((e=>{C["edit-modal"].changeButtonText()})).catch((e=>{console.error(e)})),C["edit-modal"].close()}(t):void("avatar-modal"===e.id&&(console.log(t["avatar-link"]),(e=>{q.updateProfilePicture(e["avatar-link"]).catch((e=>{console.error(e)})),q.loadUserInfo().then((e=>{C["avatar-modal"].changeButtonText(),A.updateUserAvatar(e.avatar)})).catch((e=>{console.error(e)})),C["avatar-modal"].close()})(t)))));t.setEventListeners(),C[e.id]=t})),b.forEach((e=>{const t=new a(`#${e.id}`);t.setEventListeners(),k[e.id]=t}));const A=new class{constructor(e){let{profileName:t,profileJob:r,profileAvatar:o}=e;this._profileName=document.querySelector(t),this._profileJob=document.querySelector(r),this._profileAvatar=document.querySelector(o)}getUserInfo(){return{name:this._profileName.textContent,job:this._profileJob.textContent,avatar:this._profileAvatar}}setUserInfo(e,t){this._profileName.textContent=e,this._profileJob.textContent=t}updateUserAvatar(e){this._profileAvatar.src=e,this._profileAvatar.alt=this._profileName.textContent}}({profileName:".profile__name",profileJob:".profile__description",profileAvatar:".profile__image"})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBVyxXQUFFQyxFQUFVLGNBQUV2RixHQUFlb0QsRUFDcERuSyxLQUFLdU0sYUFBZXZLLFNBQVNqQixjQUFjc0wsR0FDM0NyTSxLQUFLd00sWUFBY3hLLFNBQVNqQixjQUFjdUwsR0FDMUN0TSxLQUFLeU0sZUFBaUJ6SyxTQUFTakIsY0FBY2dHLEVBQy9DLENBRUE4RCxXQUFBQSxHQUNFLE1BQU8sQ0FDTDNLLEtBQU1GLEtBQUt1TSxhQUFhbEssWUFDeEJ5SSxJQUFLOUssS0FBS3dNLFlBQVluSyxZQUN0Qm9ILE9BQVF6SixLQUFLeU0sZUFFakIsQ0FDQS9CLFdBQUFBLENBQVl4SyxFQUFNNEssR0FDaEI5SyxLQUFLdU0sYUFBYWxLLFlBQWNuQyxFQUNoQ0YsS0FBS3dNLFlBQVluSyxZQUFjeUksQ0FDakMsQ0FFQUgsZ0JBQUFBLENBQWlCbkIsR0FDZnhKLEtBQUt5TSxlQUFlbkssSUFBTWtILEVBQzFCeEosS0FBS3lNLGVBQWVsSyxJQUFNdkMsS0FBS3VNLGFBQWFsSyxXQUM5QyxHSitRK0IsQ0FDL0JnSyxZQUFhLGlCQUNiQyxXQUFZLHdCQUNadkYsY0FBZSxtQiIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgZGF0YSxcclxuICAgIGNhcmRTZWxlY3RvcixcclxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXHJcbiAgICBoYW5kbGVDYXJkRGVsZXRlLFxyXG4gICAgaGFuZGxlQ2FyZExpa2VcclxuICApIHtcclxuICAgIHRoaXMuX2NhcmRUaXRsZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2NhcmRMaW5rID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XHJcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZSA9IGhhbmRsZUNhcmREZWxldGU7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZSA9IGhhbmRsZUNhcmRMaWtlO1xyXG4gICAgdGhpcy5fbGlrZVN0YXR1cyA9IGRhdGEuaXNMaWtlZDtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2NhdGlvbnNfX2NhcmQtZGVsZXRlXCIpO1xyXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhhbmRsZURlbGV0ZUNsaWNrKTtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9jYXRpb25zX19jYXJkLWxpa2VcIik7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9saWtlQ2FyZCk7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9jYXRpb25zX19jYXJkLWltYWdlXCIpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2soe1xyXG4gICAgICAgIHRpdGxlOiB0aGlzLl9jYXJkVGl0bGUsXHJcbiAgICAgICAgaW1hZ2U6IHRoaXMuX2NhcmRMaW5rLFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0SWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVEZWxldGVDbGljayA9ICgpID0+IHtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUodGhpcyk7XHJcbiAgfTtcclxuXHJcbiAgZGVsZXRlQ2FyZCA9ICgpID0+IHtcclxuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDsgLy8gSGVscHMgd2l0aCBtZW1vcnkgbWFuYWdlbWVudC5cclxuICB9O1xyXG5cclxuICBfbGlrZUNhcmQgPSAoZXZ0KSA9PiB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJsb2NhdGlvbnNfX2NhcmQtbGlrZV9hY3RpdmVcIik7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZSh0aGlzLl9pZCwgZXZ0KTtcclxuICB9O1xyXG5cclxuICBfc2V0TGlrZSgpIHtcclxuICAgIGlmICh0aGlzLl9saWtlU3RhdHVzID09PSB0cnVlKSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImxvY2F0aW9uc19fY2FyZC1saWtlX2FjdGl2ZVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImxvY2F0aW9uc19fY2FyZC1saWtlX2FjdGl2ZVwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9nZXRDYXJkRGF0YSgpIHtcclxuICAgIGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKTtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZFRlbXBsYXRlLmNvbnRlbnRcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKVxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5sb2NhdGlvbnNfX2NhcmQtd3JhcHBlclwiKTtcclxuXHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0Q2FyZERhdGEoKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9jYXJkVGV4dCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2NhdGlvbnNfX2NhcmQtdGV4dFwiKTtcclxuICAgIHRoaXMuX2NhcmRUZXh0LnRleHRDb250ZW50ID0gdGhpcy5fY2FyZFRpdGxlO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2NhcmRMaW5rO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IGBQaG90byBvZiAke3RoaXMuX2NhcmRUaXRsZX1gO1xyXG4gICAgdGhpcy5fc2V0TGlrZSgpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgQ2FyZCB9O1xyXG4iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IHNldHRpbmdzLmZvcm1TZWxlY3RvcjtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG5cclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3Qgc2V0dGluZ3MgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fY29udGFpbmVyXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zYXZlXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fc2F2ZV9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0LWVycm9yX3Zpc2libGVcIixcclxufTtcclxuXHJcbmV4cG9ydCB7IEZvcm1WYWxpZGF0b3IsIHNldHRpbmdzIH07XHJcbiIsImNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cFNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldmVudCkgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX29wZW5lZFwiKSB8fFxyXG4gICAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9fY2xvc2VcIilcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IFBvcHVwIH07XHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jb250YWluZXJcIik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtU2VsZWN0b3IucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIik7XHJcbiAgICB0aGlzLl9idXR0b24gPSB0aGlzLl9mb3JtU2VsZWN0b3IucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc2F2ZVwiKTtcclxuICAgIHRoaXMuX29yaWdpbmFsQnV0dG9uVGV4dCA9IHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudDtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIHRoaXMuaW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICB0aGlzLmlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzLmlucHV0VmFsdWVzO1xyXG4gIH1cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2Zvcm1TZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICAvLyBNb3ZlIHJlc2V0IGZvcm0gbG9naWMgZnJvbSBGb3JtVmFsaWRhdG9yLmpzIHRvIGhlcmUgYmVjYXVzZSBpdCB3YXMgcmVzZXR0aW5nIGZvcm0gYmVmb3JlIHRoZSB2YWx1ZXMgY291bGQgYmUgZ3JhYmJlZCBoZXJlLlxyXG4gICAgICB0aGlzLl9mb3JtU2VsZWN0b3IucmVzZXQoKTtcclxuICAgIH0pO1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIHJlc2V0QnV0dG9uVGV4dCgpIHtcclxuICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX29yaWdpbmFsQnV0dG9uVGV4dDtcclxuICB9XHJcblxyXG4gIGNoYW5nZUJ1dHRvblRleHQoKSB7XHJcbiAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZ1wiO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgUG9wdXBXaXRoRm9ybSB9O1xyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwXCI7XHJcbmNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jb250YWluZXJcIik7XHJcbiAgICB0aGlzLl9idXR0b24gPSB0aGlzLl9mb3JtU2VsZWN0b3IucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc2F2ZVwiKTtcclxuICAgIHRoaXMuX29yaWdpbmFsQnV0dG9uVGV4dCA9IHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudDtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZm9ybVNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoKTtcclxuICAgIH0pO1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIHNldEhhbmRsZUZvcm1TdWJtaXQoZnVuYykge1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGZ1bmM7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBQb3B1cFdpdGhDb25maXJtYXRpb24gfTtcclxuIiwiY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvYmFsZC1tb3VudGFpbnMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYXRlbWFyLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhZ28uanBnXCIsXHJcbiAgfSxcclxuXTtcclxuXHJcbmV4cG9ydCB7IGluaXRpYWxDYXJkcyB9O1xyXG4iLCJpbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yLCBzZXR0aW5ncyB9IGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IHsgUG9wdXBXaXRoSW1hZ2UgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhDb25maXJtYXRpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcclxuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IHsgaW5pdGlhbENhcmRzIH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzLmpzXCI7XHJcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcblxyXG4vLyBQcm9maWxlIFZhcmlhYmxlc1xyXG5jb25zdCBwcm9maWxlRWRpdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LW1vZGFsXCIpO1xyXG5cclxuY29uc3QgYXZhdGFyTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1tb2RhbFwiKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVNb2RhbENvbnRhaW5lciA9IGRvY3VtZW50LmZvcm1zW1wicHJvZmlsZS1mb3JtXCJdO1xyXG5cclxuY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xyXG5cclxuY29uc3QgZWRpdE1vZGFsQ2xvc2UgPSBwcm9maWxlRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlXCIpO1xyXG5cclxuY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2VcIik7XHJcblxyXG5jb25zdCBhdmF0YXJFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXItYnV0dG9uXCIpO1xyXG5cclxuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XHJcblxyXG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xyXG5cclxuY29uc3QgbW9kYWxJbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbnB1dC1uYW1lXCIpO1xyXG5cclxuY29uc3QgbW9kYWxJbnB1dERlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5tb2RhbF9faW5wdXQtZGVzY3JpcHRpb25cIlxyXG4pO1xyXG5cclxuY29uc3QgcHJvZmlsZVNhdmUgPSBwcm9maWxlTW9kYWxDb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc2F2ZVwiKTtcclxuXHJcbi8vIENhcmQgVmFyaWFibGVzXHJcbmNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcblxyXG5jb25zdCBuZXdQbGFjZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1tb2RhbFwiKTtcclxuXHJcbmNvbnN0IGRlbGV0ZUNhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVsZXRlLWNhcmQtbW9kYWxcIik7XHJcblxyXG5jb25zdCBuZXdQbGFjZU1vZGFsQ29udGFpbmVyID0gZG9jdW1lbnQuZm9ybXNbXCJjYXJkLWZvcm1cIl07XHJcblxyXG5jb25zdCBjYXJkTW9kYWxDbG9zZSA9IG5ld1BsYWNlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2VcIik7XHJcblxyXG5jb25zdCBuZXdQbGFjZVRpdGxlID0gbmV3UGxhY2VNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbnB1dC10aXRsZVwiKTtcclxuXHJcbmNvbnN0IG5ld1BsYWNlTGluayA9IG5ld1BsYWNlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW5wdXQtbGlua1wiKTtcclxuXHJcbmNvbnN0IG5ld1BsYWNlQnV0dG9uID0gbmV3UGxhY2VNb2RhbENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zYXZlXCIpO1xyXG5cclxuLy8gQ2FyZCBUZW1wbGF0ZSBWYXJpYWJsZXNcclxuY29uc3QgY2FyZFRlbXBsYXRlU2VsZWN0b3IgPSBcIiNsb2NhdGlvbnMtY2FyZFwiO1xyXG5cclxuY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsb2NhdGlvbnMtY2FyZFwiKTtcclxuXHJcbmNvbnN0IGNhcmRzQ29udGFpbmVyU2VsZWN0b3IgPSBcIi5sb2NhdGlvbnNfX2NhcmRzXCI7XHJcblxyXG5jb25zdCBjYXJkc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9jYXRpb25zX19jYXJkc1wiKTtcclxuXHJcbi8vIFByZXZpZXcgTW9kYWwgVmFyaWFibGVzXHJcbmNvbnN0IHByZXZpZXdJbWFnZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcmV2aWV3LWltYWdlLW1vZGFsXCIpO1xyXG5cclxuY29uc3QgcHJldmlld0ltYWdlTW9kYWxQaWN0dXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XHJcblxyXG5jb25zdCBwcmV2aWV3SW1hZ2VNb2RhbENsb3NlID0gcHJldmlld0ltYWdlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2VcIik7XHJcblxyXG5jb25zdCBwcmV2aWV3SW1hZ2VNb2RhbFRleHQgPVxyXG4gIHByZXZpZXdJbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlLXRleHRcIik7XHJcblxyXG4vLyBNb2RhbHNcclxuY29uc3QgbW9kYWxzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsXCIpKTtcclxuXHJcbi8vIEZvcm0gTW9kYWxzXHJcbmNvbnN0IGZvcm1Nb2RhbHMgPSBbbmV3UGxhY2VNb2RhbCwgcHJvZmlsZUVkaXRNb2RhbCwgYXZhdGFyTW9kYWxdO1xyXG5cclxuY29uc3QgY29uZmlybWF0aW9uTW9kYWxzID0gW2RlbGV0ZUNhcmRNb2RhbF07XHJcblxyXG4vLyBGb3JtcyBBcnJheVxyXG5jb25zdCBmb3JtQXJyYXkgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2NvbnRhaW5lclwiKSk7XHJcblxyXG4vLyBBcnJheSBhbmQgT2JqZWN0IENvbGxlY3Rpb25zXHJcbmNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge307XHJcblxyXG5jb25zdCBwb3B1cFdpdGhGb3JtcyA9IHt9O1xyXG5cclxuY29uc3QgY29uZmlybWF0aW9uUG9wdXBzID0ge307XHJcblxyXG5sZXQgY2FyZHNPblBhZ2UgPSB7fTtcclxuXHJcbi8vIExvZ2ljXHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCJkNGNhZGJmNi00YjA3LTQ3MWQtOGM4OC0zOTNmMzY3NzRjMWRcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNwcmV2aWV3LWltYWdlLW1vZGFsXCIpO1xyXG5cclxuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgaGFuZGxlSW1hZ2VDbGljayA9ICh7IHRpdGxlLCBpbWFnZSB9KSA9PiB7XHJcbiAgaW1hZ2VQb3B1cC5vcGVuKHsgdGl0bGUsIGltYWdlIH0pO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlQ2FyZERlbGV0ZSA9IChjYXJkKSA9PiB7XHJcbiAgY29uZmlybWF0aW9uUG9wdXBzW1wiZGVsZXRlLWNhcmQtbW9kYWxcIl0ub3BlbigpO1xyXG4gIHJldHVybiBpZDtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUNhcmRMaWtlID0gKGlkLCBldnQpID0+IHtcclxuICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJsb2NhdGlvbnNfX2NhcmQtbGlrZV9hY3RpdmVcIikpIHtcclxuICAgIHJldHVybiBhcGkubGlrZUNhcmQoaWQpLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBhcGkudW5saWtlQ2FyZChpZCkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9KTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCByZXRyaWV2ZVByb2ZpbGVJbmZvID0gKCkgPT4ge1xyXG4gIHJldHVybiBhcGlcclxuICAgIC5sb2FkVXNlckluZm8oKVxyXG4gICAgLnRoZW4oKHByb2ZpbGVEYXRhKSA9PiB7XHJcbiAgICAgIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKHByb2ZpbGVEYXRhW1wibmFtZVwiXSwgcHJvZmlsZURhdGFbXCJhYm91dFwiXSk7XHJcbiAgICAgIHByb2ZpbGVJbmZvLnVwZGF0ZVVzZXJBdmF0YXIocHJvZmlsZURhdGFbXCJhdmF0YXJcIl0pO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxucmV0cmlldmVQcm9maWxlSW5mbygpO1xyXG5cclxuZnVuY3Rpb24gZmlsbFByb2ZpbGVGb3JtKCkge1xyXG4gIGNvbnN0IHVzZXJJbmZvID0gcHJvZmlsZUluZm8uZ2V0VXNlckluZm8oKTtcclxuICBtb2RhbElucHV0TmFtZS52YWx1ZSA9IHVzZXJJbmZvLm5hbWU7XHJcbiAgbW9kYWxJbnB1dERlc2NyaXB0aW9uLnZhbHVlID0gdXNlckluZm8uam9iO1xyXG59XHJcblxyXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGZvcm1WYWxpZGF0b3JzW1wicHJvZmlsZS1mb3JtXCJdLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIHBvcHVwV2l0aEZvcm1zW1wiZWRpdC1tb2RhbFwiXS5yZXNldEJ1dHRvblRleHQoKTtcclxuICBwb3B1cFdpdGhGb3Jtc1tcImVkaXQtbW9kYWxcIl0ub3BlbigpO1xyXG4gIGZpbGxQcm9maWxlRm9ybSgpO1xyXG59KTtcclxuXHJcbnByb2ZpbGVBdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCAoKSA9PiB7XHJcbiAgYXZhdGFyRWRpdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwicHJvZmlsZV9fYXZhdGFyLWJ1dHRvbl92aXNpYmxlXCIpO1xyXG59KTtcclxuXHJcbmF2YXRhckVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAvL3Jlc2V0IHRoZSB2YWxpZGF0aW9uIGJlZm9yZSBvcGVuaW5nIGl0XHJcbiAgZm9ybVZhbGlkYXRvcnNbXCJhdmF0YXItZm9ybVwiXS5yZXNldFZhbGlkYXRpb24oKTtcclxuICBwb3B1cFdpdGhGb3Jtc1tcImF2YXRhci1tb2RhbFwiXS5yZXNldEJ1dHRvblRleHQoKTtcclxuICBwb3B1cFdpdGhGb3Jtc1tcImF2YXRhci1tb2RhbFwiXS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuY29uc3QgdXBkYXRlUHJvZmlsZVBpY3R1cmUgPSAoaW5wdXRWYWx1ZXMpID0+IHtcclxuICBhcGkudXBkYXRlUHJvZmlsZVBpY3R1cmUoaW5wdXRWYWx1ZXNbXCJhdmF0YXItbGlua1wiXSkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gIH0pO1xyXG4gIGFwaVxyXG4gICAgLmxvYWRVc2VySW5mbygpXHJcbiAgICAudGhlbigocHJvZmlsZURhdGEpID0+IHtcclxuICAgICAgcG9wdXBXaXRoRm9ybXNbXCJhdmF0YXItbW9kYWxcIl0uY2hhbmdlQnV0dG9uVGV4dCgpO1xyXG4gICAgICBwcm9maWxlSW5mby51cGRhdGVVc2VyQXZhdGFyKHByb2ZpbGVEYXRhW1wiYXZhdGFyXCJdKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9KTtcclxuICBwb3B1cFdpdGhGb3Jtc1tcImF2YXRhci1tb2RhbFwiXS5jbG9zZSgpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gdXBkYXRlUHJvZmlsZU1vZGFsKGlucHV0VmFsdWVzKSB7XHJcbiAgcHJvZmlsZUluZm8uc2V0VXNlckluZm8oaW5wdXRWYWx1ZXNbXCJOYW1lXCJdLCBpbnB1dFZhbHVlc1tcIkFib3V0IG1lXCJdKTtcclxuICBhcGlcclxuICAgIC5lZGl0VXNlckluZm8oaW5wdXRWYWx1ZXNbXCJOYW1lXCJdLCBpbnB1dFZhbHVlc1tcIkFib3V0IG1lXCJdKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBwb3B1cFdpdGhGb3Jtc1tcImVkaXQtbW9kYWxcIl0uY2hhbmdlQnV0dG9uVGV4dCgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIH0pO1xyXG4gIHBvcHVwV2l0aEZvcm1zW1wiZWRpdC1tb2RhbFwiXS5jbG9zZSgpO1xyXG59XHJcblxyXG5jb25zdCBnZW5lcmF0ZUNhcmQgPSAoY2FyZERhdGEpID0+IHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXHJcbiAgICBjYXJkRGF0YSxcclxuICAgIGNhcmRUZW1wbGF0ZVNlbGVjdG9yLFxyXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcclxuICAgIChjYXJkKSA9PiB7XHJcbiAgICAgIGNvbmZpcm1hdGlvblBvcHVwc1tcImRlbGV0ZS1jYXJkLW1vZGFsXCJdLm9wZW4oKTtcclxuICAgICAgY29uZmlybWF0aW9uUG9wdXBzW1wiZGVsZXRlLWNhcmQtbW9kYWxcIl0uc2V0SGFuZGxlRm9ybVN1Ym1pdCgoKSA9PiB7XHJcbiAgICAgICAgYXBpXHJcbiAgICAgICAgICAuZGVsZXRlQ2FyZChjYXJkLmdldElkKCkpXHJcbiAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGNhcmQuZGVsZXRlQ2FyZCgpO1xyXG4gICAgICAgICAgICBjb25maXJtYXRpb25Qb3B1cHNbXCJkZWxldGUtY2FyZC1tb2RhbFwiXS5jbG9zZSgpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVDYXJkTGlrZVxyXG4gICk7XHJcbiAgY2FyZHNPblBhZ2VbY2FyZERhdGEubmFtZV0gPSBjYXJkO1xyXG4gIHJldHVybiBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG59O1xyXG5cclxuY29uc3QgY2FyZHNMaXN0ID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgcmVuZGVyZXI6ICgpID0+IHtcclxuICAgICAgYXBpXHJcbiAgICAgICAgLmNoZWNrU3RhdHVzKGFwaS5sb2FkVXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxDYXJkcygpKVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIGNvbnN0IGNhcmRzID0gcmVzWzFdO1xyXG4gICAgICAgICAgY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGdlbmVyYXRlQ2FyZChjYXJkKTtcclxuICAgICAgICAgICAgcmV0dXJuIGNhcmRzTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBjYXJkc0NvbnRhaW5lclNlbGVjdG9yXHJcbik7XHJcblxyXG5jYXJkc0xpc3QucmVuZGVySXRlbXMoKTtcclxuXHJcbmFkZENhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBmb3JtVmFsaWRhdG9yc1tcImNhcmQtZm9ybVwiXS5yZXNldFZhbGlkYXRpb24oKTtcclxuICBwb3B1cFdpdGhGb3Jtc1tcImFkZC1jYXJkLW1vZGFsXCJdLnJlc2V0QnV0dG9uVGV4dCgpO1xyXG4gIHBvcHVwV2l0aEZvcm1zW1wiYWRkLWNhcmQtbW9kYWxcIl0ub3BlbigpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoaW5wdXRWYWx1ZXMpIHtcclxuICBjb25zdCBuYW1lID0gaW5wdXRWYWx1ZXNbXCJpbWFnZS10aXRsZVwiXTtcclxuICBjb25zdCBsaW5rID0gaW5wdXRWYWx1ZXNbXCJpbWFnZS1saW5rXCJdO1xyXG4gIGNhcmRzTGlzdC5hZGRJdGVtKGdlbmVyYXRlQ2FyZCh7IG5hbWUsIGxpbmsgfSkpO1xyXG4gIGFwaVxyXG4gICAgLmFkZENhcmQoaW5wdXRWYWx1ZXNbXCJpbWFnZS10aXRsZVwiXSwgaW5wdXRWYWx1ZXNbXCJpbWFnZS1saW5rXCJdKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBwb3B1cFdpdGhGb3Jtc1tcImFkZC1jYXJkLW1vZGFsXCJdLmNoYW5nZUJ1dHRvblRleHQoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9KTtcclxuICBwb3B1cFdpdGhGb3Jtc1tcImFkZC1jYXJkLW1vZGFsXCJdLmNsb3NlKCk7XHJcbn1cclxuXHJcbmZvcm1BcnJheS5mb3JFYWNoKChmb3JtKSA9PiB7XHJcbiAgY29uc3QgbmV3VmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIGZvcm0pO1xyXG4gIG5ld1ZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiAgZm9ybVZhbGlkYXRvcnNbZm9ybS5uYW1lXSA9IG5ld1ZhbGlkYXRvcjtcclxufSk7XHJcblxyXG5mb3JtTW9kYWxzLmZvckVhY2goKG1vZGFsKSA9PiB7XHJcbiAgY29uc3QgZm9ybVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oYCMke21vZGFsLmlkfWAsIChpbnB1dFZhbHVlcykgPT4ge1xyXG4gICAgaWYgKG1vZGFsLmlkID09PSBcImFkZC1jYXJkLW1vZGFsXCIpIHtcclxuICAgICAgcmV0dXJuIGNyZWF0ZUNhcmQoaW5wdXRWYWx1ZXMpO1xyXG4gICAgfVxyXG4gICAgaWYgKG1vZGFsLmlkID09PSBcImVkaXQtbW9kYWxcIikge1xyXG4gICAgICByZXR1cm4gdXBkYXRlUHJvZmlsZU1vZGFsKGlucHV0VmFsdWVzKTtcclxuICAgIH1cclxuICAgIGlmIChtb2RhbC5pZCA9PT0gXCJhdmF0YXItbW9kYWxcIikge1xyXG4gICAgICBjb25zb2xlLmxvZyhpbnB1dFZhbHVlc1tcImF2YXRhci1saW5rXCJdKTtcclxuICAgICAgdXBkYXRlUHJvZmlsZVBpY3R1cmUoaW5wdXRWYWx1ZXMpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIGZvcm1Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIHBvcHVwV2l0aEZvcm1zW21vZGFsLmlkXSA9IGZvcm1Qb3B1cDtcclxufSk7XHJcblxyXG5jb25maXJtYXRpb25Nb2RhbHMuZm9yRWFjaCgobW9kYWwpID0+IHtcclxuICBjb25zdCBjb25maXJtYXRpb25Qb3B1cCA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oYCMke21vZGFsLmlkfWApO1xyXG4gIGNvbmZpcm1hdGlvblBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgY29uZmlybWF0aW9uUG9wdXBzW21vZGFsLmlkXSA9IGNvbmZpcm1hdGlvblBvcHVwO1xyXG59KTtcclxuXHJcbmNvbnN0IHByb2ZpbGVJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICBwcm9maWxlTmFtZTogXCIucHJvZmlsZV9fbmFtZVwiLFxyXG4gIHByb2ZpbGVKb2I6IFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIsXHJcbiAgcHJvZmlsZUF2YXRhcjogXCIucHJvZmlsZV9faW1hZ2VcIixcclxufSk7XHJcblxyXG4vLyBURVNUIEFSRUFcclxuLypcclxuY29uc29sZS5sb2cocG9wdXBXaXRoRm9ybXMpO1xyXG5jb25zb2xlLmxvZyhmb3JtVmFsaWRhdG9ycyk7XHJcbmNvbnNvbGUubG9nKGNhcmRzT25QYWdlKTtcclxuKi9cclxuIiwiY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICB0aGlzLl9iYXNlVVJMID0gb3B0aW9ucy5iYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL2NhcmRzXCIsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiZDRjYWRiZjYtNGIwNy00NzFkLThjODgtMzkzZjM2Nzc0YzFkXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzKTtcclxuICB9XHJcblxyXG4gIGFkZENhcmQobmFtZSwgbGluaykge1xyXG4gICAgcmV0dXJuIGZldGNoKFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHNcIiwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCJkNGNhZGJmNi00YjA3LTQ3MWQtOGM4OC0zOTNmMzY3NzRjMWRcIixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgbGluazogbGluayxcclxuICAgICAgfSksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzKTtcclxuICB9XHJcbiAgZGVsZXRlQ2FyZChpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKFxyXG4gICAgICBgaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHMvJHtpZH1gLFxyXG4gICAgICB7XHJcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgIGF1dGhvcml6YXRpb246IFwiZDRjYWRiZjYtNGIwNy00NzFkLThjODgtMzkzZjM2Nzc0YzFkXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfVxyXG4gICAgKVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzKTtcclxuICB9XHJcblxyXG4gIGxvYWRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL3VzZXJzL21lXCIsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiZDRjYWRiZjYtNGIwNy00NzFkLThjODgtMzkzZjM2Nzc0YzFkXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzKTtcclxuICB9XHJcblxyXG4gIGVkaXRVc2VySW5mbyhuYW1lLCBhYm91dCkge1xyXG4gICAgcmV0dXJuIGZldGNoKFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvdXNlcnMvbWVcIiwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiZDRjYWRiZjYtNGIwNy00NzFkLThjODgtMzkzZjM2Nzc0YzFkXCIsXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGFib3V0OiBhYm91dCxcclxuICAgICAgfSksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVByb2ZpbGVQaWN0dXJlKHVybCkge1xyXG4gICAgcmV0dXJuIGZldGNoKFxyXG4gICAgICBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL3VzZXJzL21lL2F2YXRhclwiLFxyXG4gICAgICB7XHJcbiAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogXCJkNGNhZGJmNi00YjA3LTQ3MWQtOGM4OC0zOTNmMzY3NzRjMWRcIixcclxuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgYXZhdGFyOiB1cmwsXHJcbiAgICAgICAgfSksXHJcbiAgICAgIH1cclxuICAgIClcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcyk7XHJcbiAgfVxyXG5cclxuICBsaWtlQ2FyZChpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKFxyXG4gICAgICBgaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHMvJHtpZH0vbGlrZXNgLFxyXG4gICAgICB7XHJcbiAgICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgIGF1dGhvcml6YXRpb246IFwiZDRjYWRiZjYtNGIwNy00NzFkLThjODgtMzkzZjM2Nzc0YzFkXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfVxyXG4gICAgKVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzKTtcclxuICB9XHJcblxyXG4gIHVubGlrZUNhcmQoaWQpIHtcclxuICAgIHJldHVybiBmZXRjaChcclxuICAgICAgYGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL2NhcmRzLyR7aWR9L2xpa2VzYCxcclxuICAgICAge1xyXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBcImQ0Y2FkYmY2LTRiMDctNDcxZC04Yzg4LTM5M2YzNjc3NGMxZFwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH1cclxuICAgIClcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcyk7XHJcbiAgfVxyXG5cclxuICBjaGVja1N0YXR1cyh1c2VySW5mb0Z1bmN0aW9uLCBjYXJkc0Z1bmN0aW9uKSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3VzZXJJbmZvRnVuY3Rpb24sIGNhcmRzRnVuY3Rpb25dKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IEFwaSB9O1xyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcbmNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwU2VsZWN0b3IucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9wb3B1cFRpdGxlID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZS10ZXh0XCIpO1xyXG4gIH1cclxuXHJcbiAgb3Blbih7IHRpdGxlLCBpbWFnZSB9KSB7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGltYWdlO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSB0aXRsZTtcclxuICAgIHRoaXMuX3BvcHVwVGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IFBvcHVwV2l0aEltYWdlIH07XHJcbiIsImNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXJTZWxlY3RvciA9IGNvbnRhaW5lclNlbGVjdG9yO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyKCk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgU2VjdGlvbiB9O1xyXG4iLCJjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBwcm9maWxlTmFtZSwgcHJvZmlsZUpvYiwgcHJvZmlsZUF2YXRhciB9KSB7XHJcbiAgICB0aGlzLl9wcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZU5hbWUpO1xyXG4gICAgdGhpcy5fcHJvZmlsZUpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUpvYik7XHJcbiAgICB0aGlzLl9wcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlQXZhdGFyKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmFtZTogdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGpvYjogdGhpcy5fcHJvZmlsZUpvYi50ZXh0Q29udGVudCxcclxuICAgICAgYXZhdGFyOiB0aGlzLl9wcm9maWxlQXZhdGFyLFxyXG4gICAgfTtcclxuICB9XHJcbiAgc2V0VXNlckluZm8obmFtZSwgam9iKSB7XHJcbiAgICB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl9wcm9maWxlSm9iLnRleHRDb250ZW50ID0gam9iO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlVXNlckF2YXRhcih1cmwpIHtcclxuICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXIuc3JjID0gdXJsO1xyXG4gICAgdGhpcy5fcHJvZmlsZUF2YXRhci5hbHQgPSB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IFVzZXJJbmZvIH07XHJcbiJdLCJuYW1lcyI6WyJDYXJkIiwiY29uc3RydWN0b3IiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZUNhcmREZWxldGUiLCJoYW5kbGVDYXJkTGlrZSIsInRoaXMiLCJfY2FyZFRpdGxlIiwibmFtZSIsIl9jYXJkTGluayIsImxpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaWQiLCJfaGFuZGxlQ2FyZERlbGV0ZSIsIl9oYW5kbGVDYXJkTGlrZSIsIl9saWtlU3RhdHVzIiwiaXNMaWtlZCIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9kZWxldGVCdXR0b24iLCJfZWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJfbGlrZUJ1dHRvbiIsIl9saWtlQ2FyZCIsIl9jYXJkSW1hZ2UiLCJ0aXRsZSIsImltYWdlIiwiZ2V0SWQiLCJkZWxldGVDYXJkIiwicmVtb3ZlIiwiZXZ0IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiX3NldExpa2UiLCJhZGQiLCJfZ2V0Q2FyZERhdGEiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJnZW5lcmF0ZUNhcmQiLCJfY2FyZFRleHQiLCJ0ZXh0Q29udGVudCIsInNyYyIsImFsdCIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwiX2Zvcm1TZWxlY3RvciIsImZvcm1TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtRWxlbWVudCIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImVycm9yRWxlbWVudCIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfaW5wdXRMaXN0Iiwic29tZSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9idXR0b25FbGVtZW50IiwiZGlzYWJsZWQiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsInJlc2V0VmFsaWRhdGlvbiIsImVuYWJsZVZhbGlkYXRpb24iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwU2VsZWN0b3IiLCJvcGVuIiwiX2hhbmRsZUVzY0Nsb3NlIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9idXR0b24iLCJfb3JpZ2luYWxCdXR0b25UZXh0IiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwicmVzZXQiLCJyZXNldEJ1dHRvblRleHQiLCJjaGFuZ2VCdXR0b25UZXh0IiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwic2V0SGFuZGxlRm9ybVN1Ym1pdCIsImZ1bmMiLCJwcm9maWxlRWRpdE1vZGFsIiwiYXZhdGFyTW9kYWwiLCJwcm9maWxlTW9kYWxDb250YWluZXIiLCJmb3JtcyIsInByb2ZpbGVFZGl0QnV0dG9uIiwicHJvZmlsZUF2YXRhciIsImF2YXRhckVkaXRCdXR0b24iLCJtb2RhbElucHV0TmFtZSIsIm1vZGFsSW5wdXREZXNjcmlwdGlvbiIsImFkZENhcmRCdXR0b24iLCJuZXdQbGFjZU1vZGFsIiwiZGVsZXRlQ2FyZE1vZGFsIiwibmV3UGxhY2VNb2RhbENvbnRhaW5lciIsInByZXZpZXdJbWFnZU1vZGFsIiwiZm9ybU1vZGFscyIsImNvbmZpcm1hdGlvbk1vZGFscyIsImZvcm1BcnJheSIsImZvcm1WYWxpZGF0b3JzIiwicG9wdXBXaXRoRm9ybXMiLCJjb25maXJtYXRpb25Qb3B1cHMiLCJjYXJkc09uUGFnZSIsImFwaSIsIm9wdGlvbnMiLCJfYmFzZVVSTCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJnZXRJbml0aWFsQ2FyZHMiLCJmZXRjaCIsImF1dGhvcml6YXRpb24iLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImFkZENhcmQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImxvYWRVc2VySW5mbyIsImVkaXRVc2VySW5mbyIsImFib3V0IiwidXBkYXRlUHJvZmlsZVBpY3R1cmUiLCJ1cmwiLCJhdmF0YXIiLCJsaWtlQ2FyZCIsInVubGlrZUNhcmQiLCJjaGVja1N0YXR1cyIsInVzZXJJbmZvRnVuY3Rpb24iLCJjYXJkc0Z1bmN0aW9uIiwiYWxsIiwiaW1hZ2VQb3B1cCIsIl9wb3B1cEltYWdlIiwiX3BvcHVwVGl0bGUiLCJfcmVmIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJwcm9maWxlRGF0YSIsInByb2ZpbGVJbmZvIiwic2V0VXNlckluZm8iLCJ1cGRhdGVVc2VyQXZhdGFyIiwidXNlckluZm8iLCJnZXRVc2VySW5mbyIsImpvYiIsImZpbGxQcm9maWxlRm9ybSIsImNhcmREYXRhIiwiY2FyZCIsImNhcmRzTGlzdCIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyU2VsZWN0b3IiLCJfY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJhZGRJdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJjYXJkRWxlbWVudCIsImZvcm0iLCJuZXdWYWxpZGF0b3IiLCJtb2RhbCIsImZvcm1Qb3B1cCIsImNyZWF0ZUNhcmQiLCJ1cGRhdGVQcm9maWxlTW9kYWwiLCJsb2ciLCJjb25maXJtYXRpb25Qb3B1cCIsInByb2ZpbGVOYW1lIiwicHJvZmlsZUpvYiIsIl9wcm9maWxlTmFtZSIsIl9wcm9maWxlSm9iIiwiX3Byb2ZpbGVBdmF0YXIiXSwic291cmNlUm9vdCI6IiJ9